/*! ng-imgur by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-08-11 */
!function(a){"use strict";var b=a.module("ngImgur",[]);b.constant("imgurOptions",{UPLOAD_URL:"https://api.imgur.com/3/image",UPLOAD_METHOD:"POST",API_KEY:""}),b.service("imgur",["$window","$http","$q","imgurOptions",function(b,c,d,e){var f={};return f.setAPIKey=function(a){e.API_KEY=a},f.upload=function(b){if(!e.API_KEY)throw"ngImgur: You must define your API key in `imgurOptions.API_KEY`.";if(!a.isArray(b))return this.send(b);var c=d.defer(),g=[];return a.forEach(b,function(a){g.push(f.send(a))}),d.all(g).then(function(a){c.resolve(a)}),c.promise},f.send=function(a){var f=new b.FileReader,g=d.defer();return f.onload=function(a){var b=a.target.result.split(",")[1],d={Authorization:e.API_KEY},f={image:b},h=c({url:e.UPLOAD_URL,method:e.UPLOAD_METHOD,headers:d,data:f});h.then(function(a){g.resolve(a.data.data)}),h.error(function(){g.reject()})},f.readAsDataURL(a),g.promise},f}])}(window.angular);